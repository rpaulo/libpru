cmake_minimum_required(VERSION 2.8)
project(libpru)
add_library(pru SHARED pru.c ti-pru.c)
add_definitions(-I${CMAKE_SOURCE_DIR})
set_property(TARGET pru PROPERTY SOVERSION "2")
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Weverything -Werror -Wno-error=padded -fblocks")
target_link_libraries(pru pthread BlocksRuntime)
install(TARGETS pru DESTINATION lib)
install(FILES libpru.h DESTINATION include)
